# Справочник СМП

Система управления справочником СМП, построенная на Nuxt JS 3 с использованием MongoDB.

## Функциональность

- ✅ Регистрация пользователей
- ✅ Авторизация пользователей
- ✅ Защита маршрутов
- ✅ Управление сессиями
- ✅ Современный UI с Nuxt UI

## Технологии

- **Frontend**: Nuxt JS 3, Vue 3, TypeScript
- **UI**: Nuxt UI
- **Backend**: Nuxt Server API
- **База данных**: MongoDB
- **Аутентификация**: JWT токены

## Установка и запуск

### Предварительные требования

- Node.js (версия 18 или выше)
- MongoDB (установлен локально)

### Шаги установки

1. **Клонируйте репозиторий и установите зависимости:**
   ```bash
   npm install
   ```

2. **Настройте переменные окружения:**
   Скопируйте файл `env.example` в `.env` и настройте переменные:
   ```bash
   cp env.example .env
   ```

   Отредактируйте `.env` файл:
   ```
   MONGODB_URI=mongodb://localhost:27017/smp-help
   JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
   ```

3. **Убедитесь, что MongoDB запущен:**
   ```bash
   # Windows
   net start MongoDB
   
   # Linux/Mac
   sudo systemctl start mongod
   ```

4. **Запустите приложение в режиме разработки:**
   ```bash
   npm run dev
   ```

5. **Откройте браузер и перейдите по адресу:**
   ```
   http://localhost:3000
   ```

## Использование

### Регистрация
1. Перейдите на `/auth/register`
2. Заполните форму регистрации
3. После успешной регистрации вы будете автоматически авторизованы

### Авторизация
1. Перейдите на `/auth/login`
2. Введите email и пароль
3. После успешной авторизации вы попадете на главную страницу

### Защищенные маршруты
- Главная страница (`/`) доступна только авторизованным пользователям
- Страницы авторизации доступны только неавторизованным пользователям

## Структура проекта

```
├── server/
│   ├── api/auth/          # API endpoints для аутентификации
│   ├── models/            # Модели MongoDB
│   └── utils/             # Утилиты сервера
├── pages/
│   ├── auth/              # Страницы авторизации
│   └── index.vue          # Главная страница
├── middleware/            # Middleware для защиты маршрутов
├── composables/           # Composable функции
└── layouts/               # Макеты страниц
```

## API Endpoints

### POST /api/auth/register
Регистрация нового пользователя

**Тело запроса:**
```json
{
  "email": "user@example.com",
  "password": "password123",
  "firstName": "Иван",
  "lastName": "Иванов"
}
```

### POST /api/auth/login
Авторизация пользователя

**Тело запроса:**
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

## Разработка

### Добавление новых функций
1. Создайте API endpoints в папке `server/api/`
2. Добавьте модели в папку `server/models/`
3. Создайте страницы в папке `pages/`
4. Используйте middleware для защиты маршрутов

### Сборка для продакшена
```bash
npm run build
npm run preview
```

## Лицензия

MIT License